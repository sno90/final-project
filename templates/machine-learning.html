<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link rel="stylesheet" href=".\static\css\style.css">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

    <title>To be discontinued...</title>
</head>

<body style="background-color:whitesmoke">    
    <div class="wrapper">
        <!-- START NAVBAR -->
         <!-- START NAVBAR -->
    <nav class="nav nav-pills nav-justified">
        <a class="nav-item nav-link active" href="{{ url_for('index') }}">Home</a>
        <a class="nav-item nav-link" href="{{ url_for('machine_learning') }}">Machine Learning</a>
        <a class="nav-item nav-link" href="{{ url_for('whyCode') }}">The Chemicals</a>
        <a class="nav-item nav-link" href="{{ url_for('aboutUs') }}">About Us</a>
        <a class="nav-item nav-link disabled" href="#" tabindex="-1" aria-disabled="true"></a>
      </nav>
      <div class="dropdown">
        <img class="nav-dis" src="../static/images/cosmetics-background.jpg" height=200px width=100%>
        <div id="myDropdown" class="dropdown-content">
        </div>
        <!-- END NAVBAR -->
    </div>

    <div class="w3-panel w3-sand">
            <h1 align="center" style="font-family:snell roundhand,cursive">The Algorithms</h1>
            <h6 align="center"><p>Below shows a graphic for the number of discontinued
                products matched again the company's market cap changes from 2007-2017.
            </h6></p>
            <div class="container"><h6>The following 10 companies were found to have the most discontinued cosmetic products:
                <li>Este Lauder</l1>
                <l1>P&G</l1>
                <li>Shiseido</li>
                <li>Johnson & Johnson</li>
                <li>LVMH</li>
                <li>L Brand (Victoria's Secret and Bath & Body Works)</li>
                <li>Avon</li>
                <li>Henkel</li>
                <li>Colgate-Palmolive</li>
                <li>Revlon</li> 
                </h6></div>
                <br>
            </h6>
        </div>

    <!-- Tableau Visual for Market Cap -->
    
    <div align="center" class='container tableauPlaceholder' id='viz1574293895773' style='position: relative'><noscript><a href='#'><img alt=' ' src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;Co&#47;CompaniesDisc_Products&#47;Sheet1&#47;1_rss.png' style='border: none' /></a></noscript><object class='tableauViz'  style='display:none;'><param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' /> <param name='embed_code_version' value='3' /> <param name='site_root' value='' /><param name='name' value='CompaniesDisc_Products&#47;Sheet1' /><param name='tabs' value='no' /><param name='toolbar' value='yes' /><param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;Co&#47;CompaniesDisc_Products&#47;Sheet1&#47;1.png' /> <param name='animate_transition' value='yes' /><param name='display_static_image' value='yes' /><param name='display_spinner' value='yes' /><param name='display_overlay' value='yes' /><param name='display_count' value='yes' /><param name='filter' value='publish=yes' /></object></div>                <script type='text/javascript'>                    var divElement = document.getElementById('viz1574293895773');                    var vizElement = divElement.getElementsByTagName('object')[0];                    vizElement.style.width='100%';vizElement.style.height=(divElement.offsetWidth*0.75)+'px';                    var scriptElement = document.createElement('script');                    scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';                    vizElement.parentNode.insertBefore(scriptElement, vizElement);                </script>
    
    <br>
    
    <p>
    <div align="center" class='tableauPlaceholder' id='viz1574289965284' style='position: relative'><noscript><a href='#'><img alt=' ' src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;Ma&#47;MarketCapMachineLearningData&#47;Dashboard1&#47;1_rss.png' style='border: none' /></a></noscript><object class='tableauViz'  style='display:none;'><param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' /> <param name='embed_code_version' value='3' /> <param name='site_root' value='' /><param name='name' value='MarketCapMachineLearningData&#47;Dashboard1' /><param name='tabs' value='no' /><param name='toolbar' value='yes' /><param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;Ma&#47;MarketCapMachineLearningData&#47;Dashboard1&#47;1.png' /> <param name='animate_transition' value='yes' /><param name='display_static_image' value='yes' /><param name='display_spinner' value='yes' /><param name='display_overlay' value='yes' /><param name='display_count' value='yes' /><param name='filter' value='publish=yes' /></object></div>                <script type='text/javascript'>                    var divElement = document.getElementById('viz1574289965284');                    var vizElement = divElement.getElementsByTagName('object')[0];                    if ( divElement.offsetWidth > 800 ) { vizElement.style.minWidth='420px';vizElement.style.maxWidth='650px';vizElement.style.width='100%';vizElement.style.minHeight='587px';vizElement.style.maxHeight='887px';vizElement.style.height=(divElement.offsetWidth*0.75)+'px';} else if ( divElement.offsetWidth > 500 ) { vizElement.style.minWidth='420px';vizElement.style.maxWidth='650px';vizElement.style.width='100%';vizElement.style.minHeight='587px';vizElement.style.maxHeight='887px';vizElement.style.height=(divElement.offsetWidth*0.75)+'px';} else { vizElement.style.width='100%';vizElement.style.height='727px';}                     var scriptElement = document.createElement('script');                    scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';                    vizElement.parentNode.insertBefore(scriptElement, vizElement);                
    </script>
        </p>
    <!-- Web Write-up -->
    <div class="container">
        <div class = "row">
            <p align="center"><h2><b>Analysis I: </b></h2></p>
            
            <h6> 
                <p>The chemicals used in discontinued products across major brands 
                were analyzed to determine a link between certain chemicals. After web-scrapping 
                from the Ulta’s website, a cosmetics wholesaler, we used a machine learning 
                algorithm to determine the likelihood of a product to be discontinued based on 
                the chemicals found in the database of discontinued products. 
                <p><b>Summary:</b> We conducted a hypotheisis test to determine whether there is a 
                    significant linear regression between an independent variable Discontinued 
                    Product number and a dependent variable Market Capital % change.The test focuses on the slope of the regression line:
                Market Capital % change = B0 + B1(Discontinued Product number).
                <p align="center"><font color="red"><b>Our result shows that R-squared (R2): -1.1932251458606866.</b></p></font>
                Which means that the the model fits our data very badly. In our next step, 
                we would like to have revise our thesis, and rerun the model.
                </p>
            </div>  
        </div>
    <br>
    <section id="figure" align="center">
            <h5>Market Capital Change Regression Model</h5>
            <img id="market-cap" src="../static/images/Linxi_Reg.png" alt="Market Cap % Change Regression" height=80% width=80%>
        </section>
    <br>
    <br>
    <div class="container">
        <p align="center"><h2><b>Analysis II: </b></h2></p>
        <p>The chemicals used in discontinued products across major 
        brands were analyzed to determine a link between certain chemicals. After 
        web-scrapping from the Ulta’s website, a cosmetics wholesaler, we used a 
        machine learning algorithm to determine the likelihood of a product to be 
        discontinued based on the chemicals found in the database of discontinued 
        products. 
    </p>
    
    <!-- Table for Analysis II -->
    <style type="text/css">
        .tg  {border-collapse:collapse;border-spacing:0;}
        .tg td{font-family:Arial, sans-serif;font-size:14px;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;border-color:black;}
        .tg th{font-family:Arial, sans-serif;font-size:14px;font-weight:normal;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;border-color:black;}
        .tg .tg-0pky{border-color:inherit;text-align:left;vertical-align:top}
        </style>
        <table class="tg" align="center">
          <tr>
            <th class="tg-0pky"></th>
            <th class="tg-0pky">precision</th>
            <th class="tg-0pky">recall</th>
            <th class="tg-0pky">f1-score</th>
            <th class="tg-0pky">support</th>
          </tr>
          <tr>
            <td class="tg-0pky">0 (still on the market)</td>
            <td class="tg-0pky">0.87</td>
            <td class="tg-0pky">0.32</td>
            <td class="tg-0pky">0.46</td>
            <td class="tg-0pky">1578</td>
          </tr>
          <tr>
            <td class="tg-0pky">1 (discontinued)</td>
            <td class="tg-0pky">0.87</td>
            <td class="tg-0pky">0.99</td>
            <td class="tg-0pky">0.93</td>
            <td class="tg-0pky">7395</td>
          </tr>
        </table>
        <br>
        <p align="center">
        <a href="https://github.com/sno90/final-project/blob/master/Jupyter%20Notebooks/Final_Logistic_Regression.ipynb">Logistic Regression Jupyter Notebook Code</a>
        <br>
        <a href="https://github.com/sno90/final-project/blob/master/Jupyter%20Notebooks/Web%20Scraping%20and%20Data%20Cleanup/NEW%20-%20ulta%20web%20scraping.ipynb">Web Scrapping Jupyter Notebook Code</a>
             </p>
    </div>

    <script src="https://d3js.org/d3.v5.min.js"></script>
</body>

</html>